<div class="page-container">
    <!-- ko if: working-->
    <spinner class="fit"></spinner>
    <!-- /ko -->

    <!-- ko if: api -->
    <div class="page-title title-background">
        <h1 class="title-text" data-bind="text: api().displayName">
        </h1>
    </div>
    <div class="page-menu">
        <div class="list-container">
            <div class="items" data-bind="{css: {'full': api().type === 'websocket' || api().type === 'graphql'}}">
                <api-list-dropdown params="{ allowSelection: true }" class="api-dropdown"></api-list-dropdown>
                <input type="search" class="form-control form-control-light" aria-label="Search this page"
                    placeholder="Search this page" spellcheck="false" data-bind="textInput: pattern" />
                <!-- ko if: versionApis().length > 0 -->
                API version
                <label class="select-badge">
                    <select id="apiVersions"
                        data-bind="options: versionApis, optionsValue: 'name', optionsText: 'apiVersion', value: currentApiVersion">
                    </select>
                    <span class="arrow flex align-items-center justify-content-center">
                        <i class="icon-emb icon-emb-chevron-down"></i>
                    </span>
                </label>
                <!-- /ko -->
                <hr>
                <details open class="details-styled">
                    <summary aria-label="About">
                        <div class="menu-list-heading title">
                            About
                            <i class="icon-emb icon-emb-chevron-down"></i>
                        </div>
                    </summary>
                    <div class="menu-list">
                        <!-- ko foreach: { data: staticSelectableMenuItems, as: 'menuItem' } -->
                        <div class="menu-list-item" role="option"
                            data-bind="activate: $component.selectMenuItem, css: { 'selected': $component.selectedMenuItem() == menuItem }">
                            <span data-bind="text: menuItem.displayName"></span>
                        </div>
                        <!-- /ko -->
                    </div>

                </details>
                <!-- ko if: wikiDocumentationMenuItems()?.length > 0 -->
                <hr>
                <details open class="details-styled">
                    <summary aria-label="Documentations">
                        <div class="menu-list-heading title">
                            Documentations
                            <i class="icon-emb icon-emb-chevron-down"></i>
                        </div>
                    </summary>
                    <div class="menu-list">
                        <!-- ko foreach: { data: wikiDocumentationMenuItems(), as: 'menuItem' } -->
                        <div class="menu-list-item" role="option"
                            data-bind="activate: $component.selectMenuItem, css: { 'selected': $component.selectedMenuItem() == menuItem }">
                            <span data-bind="text: menuItem.displayName, css: { 'text-truncate': !$component.wrapText(), 'text-wrap': $component.wrapText() }"></span>
                        </div>
                        <!-- /ko -->
                    </div>
                </details>
                <!-- /ko -->

                <!-- ko if: operationsMenuItems()?.length > 0 -->
                <hr>
                <details open class="details-styled">
                    <summary aria-label="Operations">
                        <div class="menu-list-heading title">
                            Operations
                            <i class="icon-emb icon-emb-chevron-down"></i>
                        </div>
                    </summary>
                    <div class="menu-list">
                        <!-- ko foreach: { data: operationsMenuItems(), as: 'menuItem' } -->
                        <div class="menu-list-item" role="option"
                            data-bind="activate: $component.selectMenuItem, css: { 'selected': $component.selectedMenuItem() == menuItem }">
                            <div class="http-method" data-bind="attr: { 'data-method': menuItem.method }"></div>
                            <span data-bind="text: menuItem.displayName, css: { 'text-truncate': !$component.wrapText(), 'text-wrap': $component.wrapText() }"></span>
                        </div>
                        <!-- /ko -->
                        <!-- ko if: operationsPageNextLink() -->
                        <div class="menu-item">
                            <a href="#" role="button" data-bind="click: loadOperations">Show more</a>
                        </div>
                        <!-- /ko -->
                    </div>
                </details>
                <!-- /ko -->
                <!-- ko if: operationsByTagsMenuItems()?.length > 0 -->
                <hr>
                <details open class="details-styled">
                    <summary aria-label="Operations">
                        <div class="menu-list-heading title">
                            Operations
                            <i class="icon-emb icon-emb-chevron-down"></i>
                        </div>
                    </summary>
                    <div class="menu-list">
                        <!-- ko foreach: { data: operationsByTagsMenuItems(), as: 'tagMenuItem' } -->
                        <details class="tag details-styled">
                            <summary data-bind="attr:{ 'aria-label': 'Tag ' + tagMenuItem.tagName }">
                                <div class="menu-list-heading">
                                    <span data-bind="text:tagMenuItem.tagName"></span>
                                    <i class="icon-emb icon-emb-chevron-down"></i>
                                </div>
                            </summary>
                            <div class="menu-list">
                                <!-- ko foreach: { data: tagMenuItem.operations, as: 'menuItem' } -->
                                <div class="menu-list-item" role="option"
                                    data-bind="activate: $component.selectMenuItem, css: { 'selected': $component.selectedMenuItem() == menuItem }">
                                    <div class="http-method" data-bind="attr: { 'data-method': menuItem.method }"></div>
                                    <span data-bind="text: menuItem.displayName"></span>
                                </div>
                                <!-- /ko -->
                            </div>
                        </details>
                        <!-- /ko -->
                        <!-- ko if: operationsPageNextLink() -->
                        <div class="menu-item">
                            <a href="#" role="button" data-bind="click: loadOperations">Show more</a>
                        </div>
                        <!-- /ko -->
                    </div>
                </details>
                <!-- /ko -->
            </div>
            <!-- ko if: api().type !== 'websocket' && api().type !== 'graphql' -->
            <div class="bottom-item">
                <hr>
                <label class="select-badge">
                    <select id="selectedDefinition" data-bind="value: selectedDefinition">
                        <option value="" disabled="disabled" selected="selected">Download API definition</option>
                        <option value="openapi">Open API 3 (YAML)</option>
                        <option value="openapi+json">Open API 3 (JSON)</option>
                        <option value="swagger"> Open API 2 (JSON)</option>
                        <option value="wadl">WADL</option>
                        <!-- ko if: api().type === 'soap' -->
                        <option value="wsdl">WSDL</option>
                        <!-- /ko -->
                    </select>
                    <span class="arrow flex align-items-center justify-content-center">
                        <i class="icon-emb icon-emb-chevron-down"></i>
                    </span>
                </label>
            </div>
            <!-- /ko -->

        </div>
    </div>
    <div class="page-content">
        <!-- ko if: selectedMenuItem().type === 'documentation' -->
        <wiki-documentation></wiki-documentation>
        <!-- /ko -->
    </div>
    <!-- /ko -->
</div>